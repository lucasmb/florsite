var currentSongNum=0;function allowScroll(){console.log("AllowScroll - songchanged");var e=document.getElementById("blocked-scroll");e.setAttribute("data-blocked",0),console.log(e.getAttribute("data-blocked"))}function blockScroll(){console.log("blockeo");var e=document.getElementById("blocked-scroll");e.setAttribute("data-blocked",1),console.log(e.getAttribute("data-blocked"))}$(window).on("load",function(){$(".loader").fadeOut("slow"),AOS.init({duration:1200}),new fullScroll({mainElement:"fullpage",displayDots:!0,dotsPosition:"right",animateTime:2.5,animateFunction:"ease"})}),function(){var e=document.querySelector(".sg-wrapper"),n=document.getElementById("trigger-overlay"),o=document.querySelector(".overlay"),t=o.querySelector(".overlay-close");function l(){if(classie.has(o,"open")){classie.remove(o,"open"),classie.remove(e,"overlay-open"),classie.add(o,"close");var n=function(e){if(support.transitions){if("visibility"!==e.propertyName)return;this.removeEventListener(transEndEventName,n)}classie.remove(o,"close")};support.transitions?o.addEventListener(transEndEventName,n):n()}else classie.has(o,"close")||(classie.add(o,"open"),classie.add(e,"overlay-open"))}transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],support={transitions:Modernizr.csstransitions},n.addEventListener("click",l),t.addEventListener("click",l);var s=$(o).find(".option");$(s).on("click",function(e){e.preventDefault(),$(o).removeClass("open");var n=parseInt($(this).attr("href").replace("#song-",""));"cover"!=$(this).attr("href")&&(currentSongNum=(n=n)-1),location.replace("#"+n)});var r,a,c,i,u,d,g=document.getElementsByClassName("js-song"),m=!0,v=g[currentSongNum].getElementsByClassName("js-lyric");function f(e,n){if(14==parseInt(location.hash.replace("#","").split("/")[0])&&(m=!0,allowScroll()),console.log("scroll event:"+o),void 0===n)var o=window.pageYOffset||document.documentElement.scrollTop,t=function(e){var n;n=e.wheelDelta?e.wheelDelta:-1*e.deltaY;{if(console.log(n),n<0)return 1;if(0<n)return-1}}(e.originalEvent);else t=n;m&&(m=!1,function(e){if(console.log("checkendSong"),dataLyric=0<=currentSongNum&&g[currentSongNum].getAttribute("data-lyricnum")?g[currentSongNum].getAttribute("data-lyricnum"):0,r=parseInt(dataLyric),console.log("Song Dir: "+e),console.log("Song Dir: "+e),1==e&&r==v.length-1||-1==e&&0==r){console.log("termino la cancion");var n=parseInt(currentSongNum+parseInt(e));allowScroll(),function(e){console.log(" -- SONGCHANGED -- "),console.log("Current: "+currentSongNum),console.log("NEXT: "+e),currentSongNum=e<0?0:e;c=v[0],i=v[r],p(c,i),g[currentSongNum].setAttribute("data-lyricnum",0),v=g[currentSongNum].getElementsByClassName("js-lyric"),console.log(v);for(var n=1;n<v.length;n++)v[n].classList.add("d-none");v[0].classList.remove("d-none")}(n)}else console.log("la cancion sigue"),blockScroll(),function(e){console.log("la cancion es: "+currentSongNum),g[currentSongNum]&&(v=g[currentSongNum].getElementsByClassName("js-lyric"),a=(r+=e)+-1*e,console.log("este lyric es "+r),console.log("esta cancion tiene "+v.length+" lineas"),c=v[r],i=v[a],p(c,i),g[currentSongNum].setAttribute("data-lyricnum",r))}(e)}(t),setTimeout(function(){m=!0},100))}function p(e,n){0<=r&&e&&(n&&n.classList.add("d-none"),e.classList.remove("d-none"))}$(".js-song").on("touchstart",function(e){u=parseInt(e.changedTouches[0].clientY),d=0}),$(".js-song").on("touchend",function(e){var n;console.log("endTouchEvent"),d=parseInt(e.changedTouches[0].clientY),console.log(u-d),console.log(d-u),(100<d-u||100<u-d)&&(u<d?(n=-1,console.log("atras")):(n=1,console.log("adelante")),f(e,n))}),$(".js-song").on("scroll wheel",function(e){f(e)})}();