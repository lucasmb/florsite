var currentSongNum=0;function allowScroll(){alert("cambio");var e=document.getElementById("blocked-scroll");e.setAttribute("data-blocked",0),alert(e.getAttribute("data-blocked"))}function blockScroll(){console.log("blockeo");var e=document.getElementById("blocked-scroll");e.setAttribute("data-blocked",1),console.log(e.getAttribute("data-blocked"))}$(window).on("load",function(){$(".loader").fadeOut("slow"),AOS.init({duration:1200}),new fullScroll({mainElement:"fullpage",displayDots:!0,dotsPosition:"right",animateTime:2.5,animateFunction:"ease"})}),function(){var e=document.querySelector(".sg-wrapper"),n=document.getElementById("trigger-overlay"),t=document.querySelector(".overlay"),o=t.querySelector(".overlay-close");function r(){if(classie.has(t,"open")){classie.remove(t,"open"),classie.remove(e,"overlay-open"),classie.add(t,"close");var n=function(e){if(support.transitions){if("visibility"!==e.propertyName)return;this.removeEventListener(transEndEventName,n)}classie.remove(t,"close")};support.transitions?t.addEventListener(transEndEventName,n):n()}else classie.has(t,"close")||(classie.add(t,"open"),classie.add(e,"overlay-open"))}transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],support={transitions:Modernizr.csstransitions},n.addEventListener("click",r),o.addEventListener("click",r);var l=$(t).find(".option");$(l).on("click",function(e){e.preventDefault(),$(t).removeClass("open");var n=parseInt($(this).attr("href").replace("#song-",""));currentSongNum="cover"!=$(this).attr("href")?(n+=1)-1:-(n=1),location.replace("#"+n)});var a,s,i,c,u=document.getElementsByClassName("js-song"),d=!0,m=u[currentSongNum].getElementsByClassName("js-lyric");function g(e,n){0<=a&&e&&(n&&n.classList.add("d-none"),e.classList.remove("d-none"))}$(".js-song").on("scroll wheel",function(e){14==parseInt(location.hash.replace("#","").split("/")[0])&&(d=!0,allowScroll());var n=window.pageYOffset||document.documentElement.scrollTop;console.log("scroll event:"+n);var t=function(e){var n;n=e.wheelDelta?e.wheelDelta:-1*e.deltaY;{if(console.log(n),n<0)return 1;if(0<n)return-1}}(e.originalEvent);d&&(d=!1,function(e){if(console.log("checkendSong"),dataLyric=0<=currentSongNum&&u[currentSongNum].getAttribute("data-lyricnum")?u[currentSongNum].getAttribute("data-lyricnum"):0,a=parseInt(dataLyric),console.log("Song Dir: "+e),console.log("Song Dir: "+e),1==e&&a==m.length-1||-1==e&&0==a){console.log("termino la cancion");var n=parseInt(currentSongNum+parseInt(e));allowScroll(),function(e){alert("SONGCHANGED: "+currentSongNum),alert("NEXT: "+e),currentSongNum=e<0?0:e;i=m[0],c=m[a],g(i,c),u[currentSongNum].setAttribute("data-lyricnum",0),m=u[currentSongNum].getElementsByClassName("js-lyric")}(n)}else console.log("la cancion sigue"),blockScroll(),function(e){console.log("la cancion es: "+currentSongNum),u[currentSongNum]&&(m=u[currentSongNum].getElementsByClassName("js-lyric"),s=(a+=e)+-1*e,console.log("este lyric es "+a),console.log("esta cancion tiene "+m.length+" lineas"),i=m[a],c=m[s],g(i,c),u[currentSongNum].setAttribute("data-lyricnum",a))}(e)}(t),setTimeout(function(){d=!0},400)),n<=0?0:n})}();